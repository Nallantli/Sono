load "dataset";
load "rule";
load "vector";
load "system";
load "string";
load "html";

var dataset = new DataSet();

# Alternatively: JPN.txt, LAT.txt, NAH.txt
# Not guaranteed to be reflective of actual words, the datasets just contain possible combinations
dataset.parseFile("misc/Test.txt");
dataset.setRules(RuleSets.Common.randomize());

var morphemeB = dataset.genSyllable();
var morphemeC = dataset.genSyllable();

var header = {"Form A", "Form A+B", "Form A+C", "Form A+B+C"};
var vector = {};
i in {0 until 20} do {
	var w = dataset.genWord();
	var wA = (str dataset.toPhonetic(w)).replace("[\\.\\+]", "");
	var wAB = (str dataset.toPhonetic(word (vec w + { "+" } + vec morphemeB))).replace("[\\.\\+]", "");
	var wAC = (str dataset.toPhonetic(word (vec w + { "+" } + vec morphemeC))).replace("[\\.\\+]", "");
	var wABC = (str dataset.toPhonetic(word (vec w + { "+" } + vec morphemeB + { "+" } + vec morphemeC))).replace("[\\.\\+]", "");
	vector += {{wA, wAB, wAC, wABC}};
}

print(Format.table(header, vector));