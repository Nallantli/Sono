load "dataset";
load "rule";
load "vector";
load "system";
load "string";
load "html";

var dataset = new DataSet();

# Alternatively: JPN.txt, LAT.txt, NAH.txt
# Not guaranteed to be reflective of actual words, the datasets just contain possible combinations
dataset.parseFile("misc/Test.txt");
dataset.setRules(RuleSets.Common.randomize());

var plural = dataset.genSyllable();
var genitive = dataset.genSyllable();

var header = {"Singular", "Plural", "Sg Gen", "Pl Gen"};
var vector = {};
i in {0 until 20} do {
	var w = dataset.genWord();
	var wSingular = (str dataset.toPhonetic(w)).replace("[\\.\\+]", "");
	var wPlural = (str dataset.toPhonetic(word (vec w + { "+" } + vec plural))).replace("[\\.\\+]", "");
	var wSingularGen = (str dataset.toPhonetic(word (vec w + { "+" } + vec genitive))).replace("[\\.\\+]", "");
	var wPluralGen = (str dataset.toPhonetic(word (vec w + { "+" } + vec plural + { "+" } + vec genitive))).replace("[\\.\\+]", "");
	vector += {{wSingular, wPlural, wSingularGen, wPluralGen}};
}

println(Format.table(header, vector));