load "socket.so";

var client = new Socket("127.0.0.1", 5000);

var output = client.getOutput();
var input = client.getInput();

var line;

(line = Input.line()) != "" do {
	println("Client Sending:\t" + line);
	output.send(line);
	line == "exit" then {
		break;
	}
	println("Client Recieved:\t" + input.read());
}
println("Exiting Client...");
output.send("");

output.close();
input.close();
client.close();
println("Done.");